# netty 解决tcp粘包和拆包

​	首先说明什么是粘包和拆包。粘包就是多个完整的tcp包被服务端一次性获取到。拆包就是一个完整的tcp包需要被服务端多次读取才完全读取到这个包。

​	产生的原因有以下几种：

	1. 应用程序缓冲区一次写入的数据量大于套接字发送缓冲区大小
 	2. 进行MSS大小的tcp分段
 	3. 以太网帧的payload大于MTU进行ip分片



粘包问题解决策略：

	1. 消息定长
 	2. 在包尾部增加换行符区分
 	3. 将消息分为消息头和消息体消息头包涵消息体或者消息总长度。
 	4. 或者更复杂的协议



​	LineBasedFrameDecoder和StringDecoder 半包解码器，前面是读取到换行符认为是一个包。后面是把获取到的消息转成字符串。netty还提供了更多的解码器。

​	