# rabbit mq 的集群模式

1. 普通集群模式 只是多个queue 放在多个实例上，然后其他的机器上存放对应的queue的元数据信息，然后如果消费者链接的这个实例没有要消费的数据，会告诉client正确的实例，去消费这个数据。
   1. 缺点：毫无高可用可言
   2. 缺点： 可能有内部大量的数据传输
2. 镜像集群模式 镜像集群和普通集群的区别在于，普通集群只同步元数据信息，镜像集群会保存queue所有的数据，直接同步所有的数据。
   1. 优点：节点宕机是可以从其他的镜像节点去消费数据的。
   2. 缺点： 数据量翻几倍。如果单机的数量放不下这样就
3. 数据重复消费
4. 数据丢失
   1. 客户端
      1. 保证数据不丢失使用confirm模式 ，成功以后mq 会回调接口告诉你们发送结果
      2. 自己也可以try 然后同步发送成功
   2. mq 实例端
      1. 设置持久化元数据
      2. 设置持久化消息数据
   3. 消息的顺序性
      1. 一个queue一个消费者就可以了
   4. 

